import java.util.ArrayList;
import java.util.List;

public class namw {
    public static void main(String[] args) {
        String s = "25525511135";
        List<String> ans = restoreIpAddresses(s);
        for(int i=0;i<ans.size();i++){
            System.out.println(ans.get(i));
        }
    }
    public static List<String> restoreIpAddresses(String s) {
        List<String> ans = new ArrayList();
        if(s.length()>12){
            return ans;
        }
        String temp = "";
        back(s,temp,0,0,ans);
        return ans;
    }
    static void back(String s, String temp,int index,int dots,List<String>ans){
        if(dots==4 && index==s.length()){
            ans.add(temp.substring(0,temp.length()-1));
            System.out.println("=========");
            System.out.println("add"+temp.substring(0,temp.length()-1));
            return;
        }
        if(dots>4){
            return;
        }
        for(int i=index;i<(Math.min((3+index),s.length()));i++){
            if(Integer.parseInt(s.substring(index,i+1))<256 && (i==index || s.charAt(index)!='0')){
                back(s,(temp+s.substring(index,i+1)+"."),i+1,dots+1,ans);
                System.out.println("=========");
                System.out.println(temp+s.substring(index,i+1)+".");
            }
        }
    }

}





Dryrun

=========
2.5.5.2.5.
=========
2.5.5.2.55.
=========
2.5.5.2.
=========
2.5.5.25.5.
=========
2.5.5.25.51.
=========
2.5.5.25.
=========
2.5.5.255.1.
=========
2.5.5.255.11.
=========
2.5.5.255.111.
=========
2.5.5.255.
=========
2.5.5.
=========
2.5.52.5.5.
=========
2.5.52.5.51.
=========
2.5.52.5.
=========
2.5.52.55.1.
=========
2.5.52.55.11.
=========
2.5.52.55.111.
=========
2.5.52.55.
=========
2.5.52.
=========
2.5.
=========
2.55.2.5.5.
=========
2.55.2.5.51.
=========
2.55.2.5.
=========
2.55.2.55.1.
=========
2.55.2.55.11.
=========
2.55.2.55.111.
=========
2.55.2.55.
=========
2.55.2.
=========
2.55.25.5.1.
=========
2.55.25.5.11.
=========
2.55.25.5.111.
=========
2.55.25.5.
=========
2.55.25.51.1.
=========
2.55.25.51.11.
=========
2.55.25.51.113.
=========
2.55.25.51.
=========
2.55.25.
=========
2.55.255.1.1.
=========
2.55.255.1.11.
=========
2.55.255.1.113.
=========
2.55.255.1.
=========
2.55.255.11.1.
=========
2.55.255.11.13.
=========
2.55.255.11.135.
=========
2.55.255.11.
=========
2.55.255.111.3.
=========
2.55.255.111.35.
=========
2.55.255.111.
=========
2.55.255.
=========
2.55.
=========
2.
=========
25.5.2.5.5.
=========
25.5.2.5.51.
=========
25.5.2.5.
=========
25.5.2.55.1.
=========
25.5.2.55.11.
=========
25.5.2.55.111.
=========
25.5.2.55.
=========
25.5.2.
=========
25.5.25.5.1.
=========
25.5.25.5.11.
=========
25.5.25.5.111.
=========
25.5.25.5.
=========
25.5.25.51.1.
=========
25.5.25.51.11.
=========
25.5.25.51.113.
=========
25.5.25.51.
=========
25.5.25.
=========
25.5.255.1.1.
=========
25.5.255.1.11.
=========
25.5.255.1.113.
=========
25.5.255.1.
=========
25.5.255.11.1.
=========
25.5.255.11.13.
=========
25.5.255.11.135.
=========
25.5.255.11.
=========
25.5.255.111.3.
=========
25.5.255.111.35.
=========
25.5.255.111.
=========
25.5.255.
=========
25.5.
=========
25.52.5.5.1.
=========
25.52.5.5.11.
=========
25.52.5.5.111.
=========
25.52.5.5.
=========
25.52.5.51.1.
=========
25.52.5.51.11.
=========
25.52.5.51.113.
=========
25.52.5.51.
=========
25.52.5.
=========
25.52.55.1.1.
=========
25.52.55.1.11.
=========
25.52.55.1.113.
=========
25.52.55.1.
=========
25.52.55.11.1.
=========
25.52.55.11.13.
=========
25.52.55.11.135.
=========
25.52.55.11.
=========
25.52.55.111.3.
=========
25.52.55.111.35.
=========
25.52.55.111.
=========
25.52.55.
=========
25.52.
=========
25.
=========
255.2.5.5.1.
=========
255.2.5.5.11.
=========
255.2.5.5.111.
=========
255.2.5.5.
=========
255.2.5.51.1.
=========
255.2.5.51.11.
=========
255.2.5.51.113.
=========
255.2.5.51.
=========
255.2.5.
=========
255.2.55.1.1.
=========
255.2.55.1.11.
=========
255.2.55.1.113.
=========
255.2.55.1.
=========
255.2.55.11.1.
=========
255.2.55.11.13.
=========
255.2.55.11.135.
=========
255.2.55.11.
=========
255.2.55.111.3.
=========
255.2.55.111.35.
=========
255.2.55.111.
=========
255.2.55.
=========
255.2.
=========
255.25.5.1.1.
=========
255.25.5.1.11.
=========
255.25.5.1.113.
=========
255.25.5.1.
=========
255.25.5.11.1.
=========
255.25.5.11.13.
=========
255.25.5.11.135.
=========
255.25.5.11.
=========
255.25.5.111.3.
=========
255.25.5.111.35.
=========
255.25.5.111.
=========
255.25.5.
=========
255.25.51.1.1.
=========
255.25.51.1.13.
=========
255.25.51.1.135.
=========
255.25.51.1.
=========
255.25.51.11.3.
=========
255.25.51.11.35.
=========
255.25.51.11.
=========
255.25.51.113.5.
=========
255.25.51.113.
=========
255.25.51.
=========
255.25.
=========
255.255.1.1.1.
=========
255.255.1.1.13.
=========
255.255.1.1.135.
=========
255.255.1.1.
=========
255.255.1.11.3.
=========
255.255.1.11.35.
=========
255.255.1.11.
=========
255.255.1.113.5.
=========
255.255.1.113.
=========
255.255.1.
=========
255.255.11.1.3.
=========
255.255.11.1.35.
=========
255.255.11.1.
=========
255.255.11.13.5.
=========
255.255.11.13.
=========
add255.255.11.135
=========
255.255.11.135.
=========
255.255.11.
=========
255.255.111.3.5.
=========
255.255.111.3.
=========
add255.255.111.35
=========
255.255.111.35.
=========
255.255.111.
=========
255.255.
=========
255.
255.255.11.135
255.255.111.35
